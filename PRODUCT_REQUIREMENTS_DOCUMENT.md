# 产品需求文档 (PRD): AI 辅助专利申请文件生成器

**文档版本:** 1.0
**日期:** 2025-07-11

#### 1.1. 项目概述 (Overview)

本项目旨在开发一个自动化程序，用于根据用户提供的技术交底书，智能生成一份结构完整、内容连贯的专利申请文件草案。程序将利用大型语言模型（LLM）的能力，并通过一个预设的、可配置的“Prompt 链”工作流来引导 LLM 依次完成专利文件的各个组成部分，以确保生成内容的准确性、逻辑性和可控性。

#### 1.2. 项目目标 (Goals)

*   **核心目标**：显著提升专利申请文件撰写的初步起草效率，将专业人员从重复性的结构组织和语言组织工作中解放出来。
*   **质量目标**：通过精细化的 Prompt 链设计，减少 LLM 的“幻觉”，保证各部分内容（如背景技术、发明内容、权利要求）之间的逻辑一致性。
*   **效率目标**：实现从一份技术交底书到一份完整 Markdown 格式专利申请草案的“一键式”生成。
*   **可扩展性目标**：系统设计应为模块化，支持未来轻松扩展新的输出格式（如 `.docx`）或优化任意环节的 Prompt。

#### 1.3. 目标用户 (Target Audience)

*   专利代理师、专利工程师
*   企业的知识产权（IP）部门人员
*   需要自行撰写技术专利的独立发明人或研发工程师

#### 1.4. 核心功能 (Core Features)

1.  **基于 Prompt 链的生成流程**：
    *   程序能读取一个外部的 `prompts.json` 文件。
    *   该 JSON 文件定义了生成专利各部分内容的顺序、所使用的 Prompt 模板以及各部分之间的依赖关系。

2.  **自动化内容生成引擎**：
    *   程序能读取用户提供的纯文本技术交底书。
    *   程序将按 `prompts.json` 中定义的顺序，依次调用 LLM API。
    *   在调用后续步骤的 Prompt 时，能将前面步骤已生成的内容作为上下文（Context）填入，形成逻辑链。

3.  **结构化数据输出**：
    *   所有由 LLM 生成的部分内容，将与原始输入一起，被统一存储在一个结构化的 `output.json` 文件中。
    *   这个 JSON 文件是整个生成过程的最终数据沉淀，是“唯一事实来源”，便于后续的校验、存档和二次开发。

4.  **Markdown 文档渲染**：
    *   程序提供一个独立的渲染功能，能够读取 `output.json` 文件。
    *   根据预设的模板，将 JSON 中的内容格式化为一份排版清晰、结构完整的 Markdown (`.md`) 格式的专利申请文件。

#### 1.5. 用户工作流程 (User Workflow)

1.  **准备**：用户准备好一份 `technical_disclosure.txt` 文件。
2.  **(可选) 配置**：高级用户可以修改 `prompts.json` 来优化生成逻辑。
3.  **执行**：用户运行主程序脚本。
4.  **产出**：程序自动执行以下操作：
    *   调用 LLM API 完成所有步骤。
    *   生成 `output.json` 文件。
    *   基于 `output.json` 生成 `专利申请草案.md` 文件。
5.  **审阅**：用户打开 `.md` 文件进行最终的人工审核和修改。
