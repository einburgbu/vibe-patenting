# 项目开发计划

**方法论**: 采用迭代开发模式，首先完成 MVP (最小可行产品)，再进行优化和扩展。

#### 3.1. 第一阶段：MVP 核心功能实现 (预计时间：3-5天)

此阶段的目标是打通整个核心流程，实现从输入到输出的基本功能。

*   **任务 1.1：环境搭建与项目结构初始化**
    *   创建 Git 仓库。
    *   设置 Python 虚拟环境并创建 `requirements.txt`。
    *   创建文件夹结构 (e.g., `src/`, `data/`) 和初始空文件 (`main.py`, `renderer.py` 等)。

*   **任务 1.2：定义数据结构**
    *   创建一份示例 `technical_disclosure.txt`。
    *   创建一份包含至少3个步骤的 `prompts.json` 范本。

*   **任务 1.3：开发核心引擎与模拟 LLM**
    *   实现 `input_loader` 和 `workflow_engine`。
    *   **关键**：暂时不接入真实 LLM API，而是创建一个**模拟函数 (mock)**，它接收一个 prompt 并返回一个简单的、可预测的字符串，如 `f"Mocked content for: {prompt[:30]}..."`。这能让我们在没有网络延迟和费用的情况下，快速测试流程逻辑。

*   **任务 1.4：开发输出与渲染模块**
    *   实现 `data_writer` 将模拟结果写入 `output.json`。
    *   实现 `md_renderer` 将 `output.json` 渲染为 `.md` 文件。

*   **任务 1.5：端到端流程测试**
    *   编写一个 `main.py` 脚本，将以上所有模块串联起来。
    *   运行脚本，验证是否能从输入文件顺利生成最终的 `.md` 文件。

#### 3.2. 第二阶段：集成与优化 (预计时间：2-3天)

*   **任务 2.1：集成真实 LLM API**
    *   替换掉第一阶段的模拟函数，接入真实的 LLM API。
    *   在 `llm_client` 中实现完整的 API 调用和错误处理逻辑。
    *   将 API Key 等敏感信息通过环境变量或配置文件管理。

*   **任务 2.2：Prompt 优化与测试**
    *   使用真实的交底书进行测试，迭代优化 `prompts.json` 中的内容，以提高生成质量。
    *   这是最需要反复调试和实验的一步。

#### 3.3. 第三阶段：用户体验与健壮性提升 (预计时间：1-2天)

*   **任务 3.1：增加命令行参数**
    *   使用 `argparse` 库，允许用户通过命令行指定输入/输出文件路径。
    *   例如: `python main.py --input tech.txt --output patent.md`

*   **任务 3.2：完善日志和错误处理**
    *   在关键步骤加入清晰的日志输出（`print` 或 `logging`），告知用户当前进度。
    *   对所有可能发生的错误（文件找不到、API失败等）提供友好的错误提示。

#### 3.4. 未来展望 (Post-MVP)

*   **功能扩展**：开发一个 `docx_renderer` 模块，支持输出 Word 文档。
*   **交互优化**：开发一个简单的图形用户界面（GUI），例如使用 `Tkinter` 或 `PyQt`。
*   **批量处理**：支持一次性处理一个文件夹中的多个技术交底书。
